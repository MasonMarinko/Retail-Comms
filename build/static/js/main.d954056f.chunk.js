(this["webpackJsonpcostco-app"]=this["webpackJsonpcostco-app"]||[]).push([[0],{179:function(e,t,n){},199:function(e,t,n){},203:function(e,t){},205:function(e,t){},219:function(e,t){},221:function(e,t){},249:function(e,t){},251:function(e,t){},252:function(e,t){},257:function(e,t){},259:function(e,t){},278:function(e,t){},290:function(e,t){},293:function(e,t){},316:function(e,t,n){},318:function(e,t,n){"use strict";n.r(t);var a,c,s=n(0),i=n.n(s),r=n(28),o=n.n(r),m=(n(178),n(179),n(23)),l=n(7),u=n(36),d=n(24),j=n.n(d),b=n(87),f=n(11),h=n(45),p=n.n(h),x=n(34),O=n.n(x),N=n(22),v=n(57),g=n(58),y=n(330),w=(n(199),n(33)),k=n.n(w),C=n(1),S=g.a.div(a||(a=Object(v.a)(["\n  display: flex;\n  margin-bottom: 15px;\n\n  & > div {\n    padding: 10px;\n  }\n  .image-div {\n    img {\n      max-width: 150px;\n    }\n  }\n  .title-div {\n    max-width: 300px;\n  }\n  .price-div {\n  }\n  .actions-div {\n    margin-left: auto;\n    align-self: center;\n  }\n"]))),I=function(e){var t=e.addItem,n=e.removeItem,a=e.items,c=Object(s.useState)({employeeName:"",itemNumber:"",itemName:"",itemPrice:"",itemQuantity:""}),i=Object(f.a)(c,2),r=i[0],o=i[1],m=Object(s.useState)({firstName:"",lastName:"",department:""}),l=Object(f.a)(m,2),u=l[0],d=l[1],j=function(e){d({firstName:e.firstName,lastName:e.lastName,department:e.department})},b=function(e,t){var n=Object(N.a)({},r);n[e]=t.target.value,o(n)},h=function(e){var n=u.lastName.charAt(0);if(e.preventDefault(),localStorage.getItem("token")){var a={employeeName:u.firstName+" "+n,itemNumber:parseInt(r.itemNumber),itemName:r.itemName,itemPrice:parseFloat(r.itemPrice),itemQuantity:parseInt(r.itemQuantity)};p.a.create(a).then((function(e){console.log(e.item),t(e.item)})).catch((function(e){alert(e.response.data.message)})),o({employeeName:"",itemNumber:"",itemName:"",itemPrice:"",itemQuantity:""})}else alert("You must be logged in to perform this action!")};return Object(s.useEffect)((function(){!function(){var e=localStorage.getItem("token");if(console.log(r),e){var t=k.a.decode(e);j(t)}}()}),[]),Object(C.jsxs)("div",{className:"container",children:[Object(C.jsx)("div",{className:"actions-div",children:Object(C.jsxs)("form",{onSubmit:function(e){return h(e)},className:"form-format",children:[Object(C.jsx)("input",{onChange:function(e){return b("itemNumber",e)},className:"info-input",placeholder:"Item Number",value:r.itemNumber}),Object(C.jsx)("br",{}),Object(C.jsx)("input",{onChange:function(e){return b("itemName",e)},className:"info-input",placeholder:"Item Name",value:r.itemName}),Object(C.jsx)("br",{}),Object(C.jsx)("input",{onChange:function(e){return b("itemPrice",e)},className:"info-input",placeholder:"Item Price",value:r.itemPrice}),Object(C.jsx)("br",{}),Object(C.jsx)("input",{onChange:function(e){return b("itemQuantity",e)},className:"info-input",placeholder:"Item Quantity",value:r.itemQuantity}),Object(C.jsx)("br",{}),Object(C.jsx)(y.a,{children:"Submit"})]})}),a.map((function(e){return Object(C.jsx)(S,{className:"product-list-item",children:Object(C.jsxs)("div",{className:"item-info-box",children:[Object(C.jsxs)("div",{className:"employeeName-div",children:[Object(C.jsx)("h2",{className:"item-headers",children:"Employee Name:"}),Object(C.jsx)("h3",{className:"item-info",id:"employeeName",children:e.employeeName})]}),Object(C.jsxs)("div",{className:"itemNumber-div",children:[Object(C.jsx)("h2",{className:"item-headers",children:"Item Number:"}),Object(C.jsx)("h3",{className:"item-info",id:"itemNumber",children:e.itemNumber})]}),Object(C.jsxs)("div",{className:"title-div",children:[Object(C.jsx)("h2",{className:"item-headers",children:"Item Name:"}),Object(C.jsx)("h3",{className:"item-info",children:e.itemName})]}),Object(C.jsxs)("div",{className:"price-div",children:[Object(C.jsx)("h2",{className:"item-headers",children:"Price:"}),Object(C.jsxs)("h3",{className:"item-info",children:["$",e.itemPrice]})]}),Object(C.jsxs)("div",{className:"quantity-div",children:[Object(C.jsx)("h2",{className:"item-headers",children:"Quantity:"}),Object(C.jsx)("h3",{className:"item-info-bottom",children:e.itemQuantity})]}),Object(C.jsx)(y.a,{onClick:function(){return function(e){p.a.delete(e.itemNumber).then((function(t){n(e)})).catch((function(e){alert("testing")}))}(e)},children:"REMOVE"})]})},e.itemNumber)}))]})},F=(n(316),n(163)),L=Object(F.a)((function(e){return{token:null,payload:null,setToken:function(t){return e((function(e){e.token=t,e.payload=k.a.decode(t)}))}}})),P=g.a.div(c||(c=Object(v.a)(["\n  display: flex;\n\n  & > div {\n    padding: 10px;\n  }\n  .image-div {\n    img {\n      max-width: 150px;\n    }\n  }\n  .title-div {\n    max-width: 300px;\n  }\n  .price-div {\n  }\n\n  .actions-div {\n    margin-left: auto;\n    align-self: center;\n  }\n"]))),A=function(e){var t=e.comments,n=e.addComment,a=e.removeComment,c=e.addUserToComment,i=Object(s.useState)({type:"task",employeeName:"",message:""}),r=Object(f.a)(i,2),o=r[0],m=r[1],l=Object(s.useState)([""]),u=Object(f.a)(l,2),d=(u[0],u[1],L());console.log("working");var j=function(e,t){var n=Object(N.a)({},o);n[e]=t.target.value,m(n)},b=function(e){if(e.preventDefault(),d.payload){var t=o.type;console.log(t);var a=d.payload.lastName.charAt(0),c={commentType:o.type,employeeName:d.payload.firstName+" "+a,message:o.message};O.a.create(c).then((function(e){console.log(e.comment),n(e.comment)})).catch((function(e){alert(e)})),m({type:t,employeeName:"",message:"",readBy:""})}else alert("You must be logged in to perform this action!")};return Object(s.useEffect)((function(){var e=localStorage.getItem("token");e&&d.setToken(e)}),[]),Object(C.jsxs)("div",{className:"form-comment-container",children:[Object(C.jsx)("div",{className:"form-div-comments",children:Object(C.jsxs)("form",{onSubmit:function(e){return b(e)},className:"form-comments-format",children:[Object(C.jsxs)("select",{onChange:function(e){return j("type",e)},name:"selectList",id:"selectList",children:["\xa0 ",Object(C.jsx)("option",{value:"task",children:"Task"}),Object(C.jsx)("option",{value:"memo",children:"Memo"})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)("textarea",{onChange:function(e){return j("message",e)},className:"comment-box",placeholder:"Comment Here",value:o.message}),Object(C.jsx)("br",{}),Object(C.jsx)(y.a,{onClick:function(){return n},className:"comment-submit-button",children:"Submit"})]})}),t.map((function(e){var t="task"==e.commentType,n=void 0==e.users;return Object(C.jsxs)(P,{className:"product-list-item-comment",children:[Object(C.jsxs)("div",{className:"employee-name-info",children:[Object(C.jsx)("h2",{className:"item-headers-comments",children:"Posted By:"}),Object(C.jsx)("h3",{className:"item-info-comments",id:"employeeName",children:e.employeeName})]}),Object(C.jsxs)("div",{className:"item-info-box-comments",children:[Object(C.jsxs)("div",{className:"message-info",children:[Object(C.jsx)("h2",{className:"item-headers-comments",children:"Message:"}),Object(C.jsx)("h3",{className:"item-info-bottom-comments",id:"commentMessage",children:e.message})]}),Object(C.jsx)("br",{}),t?Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{className:"comment-adjust-buttons",children:Object(C.jsx)(y.a,{onClick:function(){return function(e){console.log(e),O.a.delete(e.id).then((function(t){a(e)})).catch((function(e){alert("testing")}))}(e)},children:"COMPLETED"})})}):Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"read-button-flex",children:[Object(C.jsx)("div",{className:"read-by-align",children:Object(C.jsxs)("h1",{className:"read-by-text",children:["Read By: ",n?Object(C.jsx)(C.Fragment,{}):Object(C.jsx)(C.Fragment,{children:e.users.map((function(e){return e.firstName+" "+e.lastName})).join(", ")})]})}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"read-button",children:Object(C.jsx)("div",{className:"comment-adjust-buttons",children:Object(C.jsx)(y.a,{onClick:function(t){return function(e,t){e.preventDefault(),console.log(d.payload),O.a.markCommentRead(t.id,d.token).then((function(e){var n,a,s;console.log(e.comment),c(t.id,{id:null===(n=d.payload)||void 0===n?void 0:n.id,firstName:null===(a=d.payload)||void 0===a?void 0:a.firstName,lastName:null===(s=d.payload)||void 0===s?void 0:s.lastName})})).catch((function(e){alert(e)}))}(t,e)},children:"READ"})})})]})})]})]},e.id)}))]})},E=function(){var e=Object(s.useState)([]),t=Object(f.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)([]),i=Object(f.a)(c,2),r=i[0],o=i[1],m=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.getAllItems();case 2:t=e.sent,n=null===t||void 0===t?void 0:t.items,a(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.getAllComments();case 2:t=e.sent,n=null===t||void 0===t?void 0:t.comments,o(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){m(),l()}),[]);return Object(C.jsxs)("div",{className:"cart-page",children:[Object(C.jsx)("h1",{className:"title-text",children:"Add Items To List"}),Object(C.jsx)("div",{children:Object(C.jsx)(I,{items:n,removeItem:function(e){var t=n.findIndex((function(t){return t.itemNumber==e.itemNumber}));n.splice(t,1);var c=Object(u.a)(n);a(c)},addItem:function(e){var t=Object(u.a)(n);t.push(e),a(t)}})}),Object(C.jsx)("h1",{className:"title-text",children:"Add Comments"}),Object(C.jsx)("div",{children:Object(C.jsx)(A,{comments:r,addUserToComment:function(e,t){var n=r.findIndex((function(t){return e==t.id})),a=Object(u.a)(r);a[n].users.push(t),o(a)},removeComment:function(e){var t=r.findIndex((function(t){return t.id==e.id}));r.splice(t,1);var n=Object(u.a)(r);o(n)},addComment:function(e){var t=Object(u.a)(r);t.push(e),o(t)}})})]})};var T=function(){L();var e=Object(s.useState)(""),t=Object(f.a)(e,2),n=t[0],a=t[1],c=function(){var e=n,t=k.a.decode(e);if(t)return i(t)},i=function(e){return e.firstName};return Object(s.useEffect)((function(){!function(){var e=localStorage.getItem("token");e&&a(e)}()}),[]),Object(C.jsxs)("header",{className:"flex-row px-1",children:[Object(C.jsx)("h1",{children:Object(C.jsx)(m.b,{to:"/",children:"Costco Wholesale"})}),Object(C.jsx)("nav",{children:localStorage.getItem("token")?Object(C.jsxs)("ul",{className:"flex-row",children:[Object(C.jsxs)("li",{children:["Welcome ",c()," "]}),Object(C.jsx)("li",{className:"mx-1",children:Object(C.jsx)("a",{href:"/",onClick:function(){return localStorage.removeItem("token"),void window.location.assign("/")},children:"Logout"})})]}):Object(C.jsxs)("ul",{className:"flex-row",children:[Object(C.jsxs)("li",{children:["Welcome ",c()," "]}),Object(C.jsx)("li",{className:"mx-1",children:Object(C.jsx)(m.b,{to:"/Signup",children:"Signup"})}),Object(C.jsx)("li",{className:"mx-1",children:Object(C.jsx)(m.b,{to:"/Login",children:"Login"})})]})})]})},D=n(60),Q=n.n(D),U=function(){var e=Object(s.useState)({username:"",password:""}),t=Object(f.a)(e,2),n=t[0],a=t[1],c=L();Object(s.useEffect)((function(){console.log("token is "+c.token),console.log("payload is ",c.payload)}),[c.token]),Object(s.useEffect)((function(){var e=localStorage.getItem("token");e&&c.setToken(e)}),[]);var i=function(e,t){var c=Object(N.a)({},n);c[e]=t.target.value,a(c)};return Object(C.jsxs)("div",{className:"container my-1",children:[Object(C.jsx)("h2",{children:"Login"}),Object(C.jsxs)("form",{children:[Object(C.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(C.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(C.jsx)("input",{name:"username",type:"username",id:"username",onChange:function(e){return i("username",e)}})]}),Object(C.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(C.jsx)("label",{htmlFor:"pwd",children:"Password:"}),Object(C.jsx)("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:function(e){return i("password",e)}})]}),Object(C.jsx)("div",{className:"flex-row flex-end",children:Object(C.jsx)("button",{onClick:function(e){return function(e){e.preventDefault();var t={username:n.username,password:n.password};Q.a.login(t).then((function(t){e.preventDefault(),c.setToken(t.token),localStorage.setItem("token",t.token),window.location.assign("/")})).catch((function(e){alert(e.response.data.message)}))}(e)},type:"submit",children:"Submit"})})]})]})},M=function(){var e=Object(s.useState)({firstName:"",lastName:"",username:"",password:"",department:""}),t=Object(f.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(!0),i=Object(f.a)(c,2),r=i[0],o=i[1],l=function(e,t){var c=Object(N.a)({},n);c[e]=t.target.value;var s=c.firstName.length,i=c.lastName.length,r=c.department.length;o(!(s>1&&i>1&&r>1)),a(c)};return Object(C.jsxs)("div",{className:"container my-1",children:[Object(C.jsx)(m.b,{to:"/Login",children:"\u2190 Go to Login"}),Object(C.jsx)("h2",{children:"Signup "}),Object(C.jsxs)("form",{children:[Object(C.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(C.jsx)("label",{htmlFor:"firstName",children:"First Name:"}),Object(C.jsx)("input",{placeholder:"First",name:"firstName",type:"firstName",id:"firstName",onChange:function(e){return l("firstName",e)}})]}),Object(C.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(C.jsx)("label",{htmlFor:"lastName",children:"Last Name:"}),Object(C.jsx)("input",{placeholder:"Last",name:"lastName",type:"lastName",id:"lastName",onChange:function(e){return l("lastName",e)}})]}),Object(C.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(C.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(C.jsx)("input",{placeholder:"Username",name:"username",type:"username",id:"username",onChange:function(e){return l("username",e)}})]}),Object(C.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(C.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(C.jsx)("input",{placeholder:"Password",name:"password",type:"password",id:"password",onChange:function(e){return l("password",e)}})]}),Object(C.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(C.jsx)("label",{htmlFor:"department",children:"Department:"}),Object(C.jsx)("input",{placeholder:"Department",name:"department",type:"department",id:"department",onChange:function(e){return l("department",e)}})]}),Object(C.jsx)("div",{className:"flex-row flex-end",children:Object(C.jsx)("button",{value:"submit",disabled:r,onClick:function(e){return function(e){var t={firstName:n.firstName,lastName:n.lastName,password:n.password,username:n.username,department:n.department};Q.a.create(t).then((function(t){e.preventDefault(),alert("Account Created"),console.log(t)})).catch((function(e){alert(e.response.data.message)}))}(e)},type:"submit",children:"Submit"})})]})]})},R=function(){return Object(C.jsx)(m.a,{children:Object(C.jsxs)("div",{className:"App",children:[Object(C.jsx)(T,{}),Object(C.jsxs)(l.c,{children:[Object(C.jsx)(l.a,{exact:!0,path:"/",component:E}),Object(C.jsx)(l.a,{exact:!0,path:"/Login",component:U}),Object(C.jsx)(l.a,{exact:!0,path:"/Signup",component:M})]})]})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,331)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};o.a.render(Object(C.jsx)(i.a.StrictMode,{children:Object(C.jsx)(R,{})}),document.getElementById("root")),B()},34:function(e,t,n){var a=n(64),c={create:function(e){return a.post("/comment",e).then((function(e){return e.data}))},getAllComments:function(e){return a.get("/comment",e).then((function(e){return e.data}))},delete:function(e){return console.log(e),a.delete("/comment/".concat(e)).then((function(e){return e.data}))},markCommentRead:function(e,t){return a.post("/comment/read/".concat(e),{},{headers:{Authorization:t}}).then()}};e.exports=c},45:function(e,t,n){var a=n(64),c={create:function(e){return a.post("/item",e).then((function(e){return e.data}))},getAllItems:function(e){return a.get("/item",e).then((function(e){return e.data}))},delete:function(e){return a.delete("/item/".concat(e)).then((function(e){return e.data}))}};e.exports=c},60:function(e,t,n){var a=n(64),c={create:function(e){return a.post("/user",e).then((function(e){return e.data}))},getAllUsers:function(e){return a.get("/user",e).then((function(e){return e.data}))},login:function(e){return a.post("/user/login",e).then((function(e){return e.data}))}};e.exports=c},64:function(e,t,n){var a;a="https://www.costcoapp.com";var c=n(181).create({baseURL:a+"/api"});e.exports=c}},[[318,1,2]]]);
//# sourceMappingURL=main.d954056f.chunk.js.map